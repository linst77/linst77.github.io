(function(){"use strict";var e={9074:function(e,t,n){var s=n(9242),o=n(3396),a=n(7139);const r=(0,o.Uk)("Home"),l=(0,o.Uk)(" | "),i=(0,o.Uk)("Register"),u=(0,o.Uk)(" | "),c=(0,o.Uk)("Content"),d=(0,o.Uk)(" | "),_=(0,o.Uk)("Review"),p=(0,o.Uk)(" | "),f=(0,o._)("a",{href:"#"},"Play",-1);function m(e,t,n,s,m,h){const g=(0,o.up)("router-link"),v=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("p",null,"Hello - "+(0,a.zw)(e.user.username),1),(0,o._)("p",null,[(0,o.Wm)(g,{to:"/"},{default:(0,o.w5)((()=>[r])),_:1}),l,(0,o.Wm)(g,{to:"/registration"},{default:(0,o.w5)((()=>[i])),_:1}),u,(0,o.Wm)(g,{to:"/content"},{default:(0,o.w5)((()=>[c])),_:1}),d,(0,o.Wm)(g,{to:"/registration"},{default:(0,o.w5)((()=>[_])),_:1}),p,f]),(0,o.Wm)(v)],64)}var h=n(65),g={name:"App",data(){return{username:"",password:""}},computed:{...(0,h.rn)(["user","content","profile"])},components:{},methods:{...(0,h.OI)(["set_user_status"]),...(0,h.nv)(["user_verify"]),testtest(){this.$store.dispatch("user/user_get",{id:this.username,pw:this.password})}}},v=n(89);const w=(0,v.Z)(g,[["render",m]]);var y=w,b=n(6265),k=n.n(b);const x="http://linst77.pythonanywhere.com/";var U={user:function(e,t){return k().get(x+"/user/"+e+"/",t)},postToken:function(e,t){return k().post(x+"api/token/",{username:e,password:t})},verifyToken:function(e){return k().post(x+"api/token/verify/",{token:e})},registerUser:function(e,t){return k().post(x+"api/register/",{username:e,password:t})},getProfile:function(e,t){return k().get(x+"/profile/"+e+"/",t)},onerequest(e){return console.log(e),k().get(x+"/user/1/",e)},tworequest(e){return console.log(e),k().get(x+"/user/4/",e)},sentall:function(e){return console.log("============="),Promise.all([this.onerequest(e),this.tworequest(e)])},getProductType(e,t){return k().get(x+"/producttype/"+e+"/",t)},getUserFiles(e,t,n){return k().get(x+"/api/files/"+e+"/"+t+"/",n)},patchFile(e,t,n){return k().patch(x+"/file/"+e+"/",t,n)}},S={namespaced:!0,state(){return{name:"useraaaaaaaa",user_status:!1,username:"",password:"",access_token:null,userid:null,all_user:null,config:null}},getters:{username:e=>e.username},mutations:{set_access_token(e,t){e.access_token=t},set_user_status(e,t){e.user_status=t},set_user_username(e,t){e.username=t},set_user_userid(e,t){e.userid=t},set_user_config(e,t){e.config={headers:{Authorization:`Bearer ${t}`}}}},actions:{async user_verify({state:e,commit:t,dispatch:n}){const s=localStorage.getItem("access_token"),o=localStorage.getItem("userid"),a=localStorage.getItem("username");await U.verifyToken(s).then((()=>{t("set_access_token",s),t("set_user_username",a),t("set_user_userid",o),t("set_user_status",!0),t("set_user_config",s),n("profile/initprofile",{id:e.userid},{root:!0})})).catch((e=>{t("set_access_token",null),t("set_user_username",null),t("set_user_userid",null),t("set_user_status",!1),t("set_user_config",null),localStorage.removeItem("access_token"),localStorage.removeItem("userid"),localStorage.removeItem("username"),console.log(e)}))},async user_get({state:e,commit:t,dispatch:n,rootState:s},{id:o,pw:a}){await U.postToken(o,a).then((s=>{localStorage.setItem("userid",s.data.id),localStorage.setItem("access_token",s.data.access),localStorage.setItem("username",s.data.username),t("set_access_token",s.data.access),t("set_user_username",s.data.username),t("set_user_userid",s.data.id),t("set_user_status",!0),t("set_user_config",s.data.access),n("profile/initprofile",{id:e.userid},{root:!0})})).catch((()=>{t("set_access_token",null),t("set_user_username",null),t("set_user_userid",null),t("set_user_status",!1),t("set_user_config",null),localStorage.removeItem("access_token"),localStorage.removeItem("userid"),localStorage.removeItem("username")}))}}},C={namespaced:!0,state:{file_data:[],status_modal:!1,clicked_image:null,clicked_id:null},mutations:{set_content_data(e,t){e.file_data=t},set_status_modal(e,t){e.status_modal=t},set_clicked_image(e,t){e.clicked_image=t},set_clicked_id(e,t){e.clicked_id=t}},actions:{async init_files({commit:e},{id:t,type:n,config:s}){await U.getUserFiles(t,n,s).then((t=>{e("set_content_data",t.data)}))},async put_files({state:e},{id:t,data:n,config:s,index:o}){await U.patchFile(t,n,s).then((t=>{for(var n=0;n<e.file_data[o].length;n++)e.file_data[o][n].id==t.data.id&&(e.file_data[o][n]=t.data)})).catch((e=>{console.log(e)}))},sort_save({state:e,rootState:t},{index:n}){for(var s=0;s<e.file_data[n].length;s++){var o=e.file_data[n][s].id,a={order:e.file_data[n][s].order};U.patchFile(o,a,t.user.config).then((e=>{console.log(e)}))}}}},I={namespaced:!0,state:{name:"profile aaaaaaa",profile_status:!1,id:null,name_a:null,name_b:null,name_c:null,phone:null,location:null,event_date:null,extra_info:null,slug:null,product_status:null,product_type:null,product_items:null,product_counts:null},mutations:{set_profile_status(e,t){e.profile_status=t},set_profile_profile(e,t){e.id=t.id,e.name_a=t.name_a,e.name_b=t.name_b,e.name_c=t.name_c,e.phone=t.phone,e.location=t.location,e.event_date=t.event_date,e.extra_info=t.extra_info,e.slug=t.slug,e.product_type=t.product_type},set_producttype_item(e,t){e.product_items=t}},actions:{async initprofile({state:e,commit:t,rootState:n,dispatch:s},o){1==n.user.user_status?(await U.getProfile(o.id,n.user.config).then((e=>{t("set_profile_profile",e.data),t("set_profile_status",!0)})).catch((()=>{t("set_profile_profile",null),t("set_profile_status",!1)})),null!=e.product_type&&U.getProductType(e.product_type,n.user.config).then((t=>{e.product_items=t.data.items,e.product_counts=JSON.parse(t.data.counts)})),s("content/init_files",{id:n.user.userid,type:e.product_type,config:n.user.config},{root:!0})):(t("set_profile_profile",null),t("set_profile_status",!1))}}},O=(0,h.MT)({modules:{user:S,content:C,profile:I}}),D=n(678);const T={class:"login-box"},P=(0,o._)("h1",null,"Login form ",-1),V=(0,o._)("hr",null,null,-1),$=(0,o._)("p",null,null,-1),j=(0,o._)("a",{href:"#"}," forgot your password",-1),z=(0,o._)("br",null,null,-1),A=(0,o._)("a",{href:"#"},"Don't have an account",-1);function F(e,t,n,r,l,i){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",T,[P,V,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.username=e)},null,512),[[s.nr,l.username]]),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.password=e)},null,512),[[s.nr,l.password]]),(0,o._)("button",{onClick:t[2]||(t[2]=(...e)=>i.getUser&&i.getUser(...e))},"aaaa"),$,j,z,A]),(0,o._)("div",null,[(0,o._)("p",null," Username : "+(0,a.zw)(e.user.username),1),(0,o._)("p",null," UserID : "+(0,a.zw)(e.user.userid),1),(0,o._)("p",null," Access Token : "+(0,a.zw)(e.user.access_token),1),(0,o._)("p",null," User Status : "+(0,a.zw)(e.user.user_status),1)])],64)}var H={name:"App",data(){return{username:"",password:""}},mounted(){this.$store.dispatch("user/user_verify")},computed:{...(0,h.rn)(["user","content","profile"])},components:{},methods:{...(0,h.OI)(["set_user_status"]),...(0,h.nv)(["user_verify"]),getUser(){this.$store.dispatch("user/user_get",{id:this.username,pw:this.password})}}};const R=(0,v.Z)(H,[["render",F]]);var W=R;const E={class:"login-box"},M={action:"action_page.php"},N={class:"container"},q=(0,o._)("h1",null,"Register",-1),Y=(0,o._)("p",null,"Please fill in this form to create an account.",-1),Z=(0,o._)("hr",null,null,-1),L=(0,o._)("label",{for:"email"},[(0,o._)("b",null,"Name_A :")],-1),B=(0,o._)("p",null,null,-1),J=(0,o._)("label",{for:"email"},[(0,o._)("b",null,"Name_B :")],-1),K=(0,o._)("p",null,null,-1),G=(0,o._)("label",{for:"email"},[(0,o._)("b",null,"Name_C :")],-1),Q=(0,o._)("p",null,null,-1),X=(0,o._)("label",{for:"email"},[(0,o._)("b",null,"Phone :")],-1),ee=(0,o._)("p",null,null,-1),te=(0,o._)("label",{for:"email"},[(0,o._)("b",null,"Location :")],-1),ne=(0,o._)("p",null,null,-1),se=(0,o._)("label",{for:"email"},[(0,o._)("b",null,"Event Date :")],-1),oe=(0,o._)("p",null,null,-1),ae=(0,o._)("label",{for:"email"},[(0,o._)("b",null,"Extra Info :")],-1),re=(0,o._)("p",null,null,-1),le=(0,o._)("label",{for:"email"},[(0,o._)("b",null,"Product Type :")],-1),ie=(0,o._)("p",null,null,-1),ue=(0,o._)("label",{for:"email"},[(0,o._)("b",null,"ID :")],-1),ce=(0,o._)("p",null,null,-1),de=(0,o._)("hr",null,null,-1),_e=(0,o._)("p",null,[(0,o.Uk)(" By creating an account you agree to our "),(0,o._)("a",{href:"#"},"Terms & Privacy"),(0,o.Uk)(". ")],-1),pe=(0,o._)("button",{type:"submit",class:"registerbtn"},"Register",-1),fe=(0,o._)("div",{class:"container signin"},[(0,o._)("p",null,[(0,o.Uk)("Already have an account? "),(0,o._)("a",{href:"#"},"Sign in"),(0,o.Uk)(".")])],-1);function me(e,t,n,a,r,l){return(0,o.wg)(),(0,o.iD)("div",E,[(0,o._)("form",M,[(0,o._)("div",N,[q,Y,Z,L,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>this.profile.name_a=e)},null,512),[[s.nr,this.profile.name_a]]),B,J,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>this.profile.name_b=e)},null,512),[[s.nr,this.profile.name_b]]),K,G,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>this.profile.name_c=e)},null,512),[[s.nr,this.profile.name_c]]),Q,X,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>this.profile.phone=e)},null,512),[[s.nr,this.profile.phone]]),ee,te,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>this.profile.location=e)},null,512),[[s.nr,this.profile.location]]),ne,se,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>this.profile.event_date=e)},null,512),[[s.nr,this.profile.event_date]]),oe,ae,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>this.profile.extra_info=e)},null,512),[[s.nr,this.profile.extra_info]]),re,le,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>this.profile.product_type=e)},null,512),[[s.nr,this.profile.product_type]]),ie,ue,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>this.profile.id=e)},null,512),[[s.nr,this.profile.id]]),ce,de,_e,pe]),fe])])}var he={name:"App",data(){return{username:"",password:""}},created(){this.$store.dispatch("user/user_verify")},mounted(){},computed:{...(0,h.rn)(["user","content","profile"])},components:{},methods:{...(0,h.OI)(["set_user_status"]),...(0,h.nv)(["user_verify"])}};const ge=(0,v.Z)(he,[["render",me]]);var ve=ge;const we={key:0,class:"black-bg"},ye={class:"white-bg"},be=(0,o._)("h4",null," 상세페이지",-1),ke=(0,o._)("p",null," 상세페이지 내용임",-1),xe={id:"app",class:"max-small"},Ue=(0,o._)("div",null,null,-1),Se=(0,o._)("hr",null,null,-1);function Ce(e,t,n,s,a,r){const l=(0,o.up)("cropper"),i=(0,o.up)("Card");return(0,o.wg)(),(0,o.iD)(o.HY,null,[1==this.content.status_modal?((0,o.wg)(),(0,o.iD)("div",we,[(0,o._)("div",ye,[be,ke,(0,o._)("div",xe,[(0,o.Wm)(l,{src:this.content.clicked_image,onChange:e.onChange},null,8,["src","onChange"])]),(0,o._)("button",{onClick:t[0]||(t[0]=e=>this.$store.commit("content/set_status_modal",!1))},"닫기")])])):(0,o.kq)("",!0),(0,o._)("button",{onClick:t[1]||(t[1]=e=>this.content.status_modal=!0)}," Modal"),Ue,Se,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.div,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{class:"card-group",style:{width:"700px","flex-direction":"row",display:"flex"},key:t},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(this.profile.product_items,((e,t)=>((0,o.wg)(),(0,o.j4)(i,{index:t,key:t},null,8,["index"])))),128))])))),128))],64)}const Ie={class:"card"},Oe=(0,o._)("label",{for:"file",class:"input-plus"},"+",-1),De=["onClick","onDblclick"],Te={class:"container"},Pe=["src"],Ve=(0,o._)("div",{class:"overlay"},"My Name is John",-1),$e={class:"card-body"},je=(0,o._)("h5",{class:"card-title"},"Card title",-1),ze=(0,o._)("p",{class:"card-text"}," This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer. ",-1),Ae=(0,o._)("p",{class:"card-text"},[(0,o._)("small",{class:"text-muted"},"Last updated 3 mins ago")],-1);function Fe(e,t,n,s,r,l){const i=(0,o.up)("draggable");return(0,o.wg)(),(0,o.iD)("div",Ie,[(0,o._)("input",{onChange:t[0]||(t[0]=e=>l.upload(e,n.index)),multiple:"",type:"file",id:"file",class:"inputfile"},null,32),Oe,(0,o.Wm)(i,{modelValue:this.content.file_data[n.index],"onUpdate:modelValue":t[1]||(t[1]=e=>this.content.file_data[n.index]=e),animation:"100",onStart:t[2]||(t[2]=t=>l.current(e.id)),onEnd:t[3]||(t[3]=t=>e.drag=!1),"item-key":"id",onChange:t[4]||(t[4]=e=>l.dragging(this.content.file_data[n.index],n.index))},{item:(0,o.w5)((({element:e})=>[(0,o._)("div",{onClick:t=>l.current(e.order,n.index,e.id),onDblclick:t=>l.test(e.id,e.files)},[(0,o._)("div",Te,[(0,o._)("img",{class:"image",src:e.thumbnail},null,8,Pe),Ve]),(0,o._)("p",null," ID :"+(0,a.zw)(e.id),1),(0,o._)("p",null," ORDER :"+(0,a.zw)(e.order),1)],40,De)])),_:1},8,["modelValue"]),(0,o._)("div",$e,[je,ze,Ae,(0,o._)("p",null,[(0,o._)("button",{onClick:t[5]||(t[5]=e=>this.$store.dispatch("content/sort_save",{index:n.index}))},"Sort Update")])])])}var He=n(6983),Re=n.n(He),We={name:"CaRd",props:{index:Number},data(){return{data:[]}},computed:{...(0,h.rn)(["user","content","profile"])},created(){window.addEventListener("beforeunload",this.leaving)},unmounted(){this.$store.dispatch("content/sort_save",{index:this.index}),console.log("works------------------------")},components:{draggable:Re()},methods:{...(0,h.OI)(["set_user_status"]),...(0,h.nv)(["user_verify"]),leaving(){this.$store.dispatch("content/sort_save",{index:this.index}),console.log("works------------------------")},upload(e,t){let n=e.target.files;for(var s=0;s<this.content.file_data[t].length;s++){const e=new FormData,o=this.content.file_data[t][s].id;e.append("files",n[s]),e.append("id",o),this.$store.dispatch("content/put_files",{id:o,data:e,config:this.user.config,index:t})}},current(e,t,n){console.log("click works")},dragging(e,t){for(var n=0;n<e.length;n++)this.content.file_data[t][n].order=n},test(e,t){this.$store.commit("content/set_status_modal",!0),this.$store.commit("content/set_clicked_image",t),this.$store.commit("content/set_clicked_id",e)}}};const Ee=(0,v.Z)(We,[["render",Fe]]);var Me=Ee,Ne=n(9093),qe={name:"ConTent",data(){return{items:4,div:1,counts:[1,3,2,4]}},created(){this.$store.dispatch("user/user_verify")},components:{Card:Me,Cropper:Ne.fl},methods:{...(0,h.OI)(["set_user_status"]),...(0,h.nv)(["user_verify"]),change({coordinates:e,canvas:t}){console.log(e,t)}},computed:{...(0,h.rn)(["user","content","profile"])}};const Ye=(0,v.Z)(qe,[["render",Ce]]);var Ze=Ye;const Le=[{path:"/",component:W,name:"login"},{path:"/registration",component:ve,name:"registration"},{path:"/content",component:Ze,name:"content"}],Be=(0,D.p7)({history:(0,D.PO)(),routes:Le});var Je=Be;(0,s.ri)(y).use(O).use(Je).mount("#app")}},t={};function n(s){var o=t[s];if(void 0!==o)return o.exports;var a=t[s]={exports:{}};return e[s].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,s,o,a){if(!s){var r=1/0;for(c=0;c<e.length;c++){s=e[c][0],o=e[c][1],a=e[c][2];for(var l=!0,i=0;i<s.length;i++)(!1&a||r>=a)&&Object.keys(n.O).every((function(e){return n.O[e](s[i])}))?s.splice(i--,1):(l=!1,a<r&&(r=a));if(l){e.splice(c--,1);var u=o();void 0!==u&&(t=u)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[s,o,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,s){var o,a,r=s[0],l=s[1],i=s[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(o in l)n.o(l,o)&&(n.m[o]=l[o]);if(i)var c=i(n)}for(t&&t(s);u<r.length;u++)a=r[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(c)},s=self["webpackChunkvuex001"]=self["webpackChunkvuex001"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=n.O(void 0,[998],(function(){return n(9074)}));s=n.O(s)})();
//# sourceMappingURL=app.cb00ce2c.js.map